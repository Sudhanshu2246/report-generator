<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;500;600;700&display=swap" />

<style>
    * { box-sizing: border-box; }
    body {
        margin: 0; padding: 0;
        font-family: "Poppins", sans-serif;
        background: linear-gradient(180deg, #d4eef3 0%, #e8f6f8 50%, #f0f9fa 100%);
        min-height: 100vh;
    }
    .page {
        width: 595px;
        min-height: 842px;
        margin: 0 auto;
        position: relative;
        overflow: visible;
        background: linear-gradient(180deg, #d4eef3 0%, #e8f6f8 50%, #f0f9fa 100%);
        padding-bottom: 70px;
    }

    .logo {
        position: absolute;
        top: 26px; left: 20px;
        z-index: 10;
    }

    .header {
        width: 100%; padding: 60px 20px 20px 20px;
        border-bottom: 2px solid rgba(31,128,147,0.3);
        display: flex; justify-content: space-between; align-items: center;
    }

    .page-badge {
        background: rgba(31,128,147,0.08);
        padding: 6px 20px; border-radius: 9999px;
        color: #7a9ba5; font-size: 13px; font-weight: 500;
    }

    .title-block { margin-top: 36px; padding-left: 20px; }
    .title { color: #1f8093; font-size: 36px; font-weight: 600; }
    .underline {
        width: 100px; height: 4px; margin-top: 8px;
        background: linear-gradient(90deg, #1f8093, rgba(31,128,147,0.3));
        border-radius: 999px;
    }

    /* SNAPSHOT CARDS */
    .snapshot-row { display: flex; gap: 20px; justify-content: center; margin-top: 32px; padding: 0 20px; }
    .card {
        width: 270px; background: white; border-radius: 14px;
        border: 1px solid rgba(224,230,235,0.5);
        box-shadow: 0 4px 12px rgba(31,128,147,0.08);
        padding: 24px;
    }

    .card-title {
        display: flex; align-items: center; gap: 10px;
        font-size: 14px; font-weight: 500; margin-bottom: 20px; color: #333;
    }

    .sq-icon { width: 20px; height: 20px; border-radius: 4px; flex-shrink: 0; }

    .status-box {
        background: rgba(248,250,252,0.8);
        border-left: 3px solid #1f8093;
        border-radius: 8px;
        padding: 12px 14px; margin-bottom: 12px;
    }
    .status-label { font-size: 9px; text-transform: uppercase; margin-bottom: 6px; color: #555; }

    .pill {
        padding: 5px 12px; border-radius: 999px;
        font-size: 11px; display: inline-block; font-weight: 500;
    }
    .green { background: #d8ffe6; color: #21c45d; }
    .red { background: #fedfdf; color: #e92b2b; }
    .orange { background: #fef5e7; color: #fe7b02; }

    /* CIRCLE */
    .circle-wrap { width: 140px; height: 140px; margin: 20px auto; position: relative; }
    .circle-bg {
        width: 100px; height: 100px; position: absolute; top: 20px; left: 20px;
        border-radius: 50%; border: 10px solid #f3f5f7;
    }
    .circle-progress {
        width: 100px; height: 100px; position: absolute; top: 20px; left: 20px;
        border-radius: 50%;
        border: 10px solid #1f8093;
        border-bottom-color: #f3f5f7; border-left-color: #f3f5f7;
        transform: rotate(${overallPercent * 1.8}deg);
    }
    .circle-number {
        position: absolute; top: 58px; width: 100%; text-align: center;
        color: #fe7b02; font-size: 24px; font-weight: 700;
    }

    .circle-label { text-align: center; margin-top: 10px; }

    /* SUMMARY */
    .summary-card {
        width: 555px; margin: 32px auto 0 auto;
        background: white; border-radius: 12px;
        border: 1px solid rgba(224,230,235,0.5);
        padding: 22px 26px; box-shadow: 0 4px 10px rgba(31,128,147,0.06);
    }
    .summary-title {
        display: flex; align-items: center; gap: 10px;
        font-size: 14px; font-weight: 600; color: #333; margin-bottom: 14px;
    }
    .summary-text { font-size: 12px; line-height: 20px; color: #666; }

    /* NEXT STEP */
    .next-step {
        width: 555px; margin: 20px auto 0 auto;
        background: linear-gradient(90deg, rgba(31,128,147,0.08), rgba(31,128,147,0.03));
        border-left: 4px solid #1f8093; border-radius: 10px;
        padding: 18px 26px;
    }
    .next-title { font-size: 14px; font-weight: 700; color: #1f8093; margin-bottom: 8px; }
    .next-text { font-size: 12px; line-height: 20px; color: #555; }

    .footer-line {
        width: calc(100% - 40px); height: 1px;
        background: rgba(31,128,147,0.25);
        position: absolute; bottom: 50px; left: 20px;
    }
    .footer {
        width: 100%; text-align: center;
        position: absolute; bottom: 22px;
        font-size: 10px; color: #7a9ba5;
    }
</style>
</head>

<body>

<div class="page">

    <!-- LOGO -->
    <div class="logo">
        <img src="../assets/provencodee.png" alt="The Proven Code">
    </div>

    <!-- HEADER -->
    <div class="header">
        <div></div>
        <div class="page-badge">Page ${pageNumber}</div>
    </div>

    <!-- TITLE -->
    <div class="title-block">
        <div class="title">Your Snapshot</div>
        <div class="underline"></div>
    </div>

    <!-- SNAPSHOT ROW -->
    <div class="snapshot-row">

        <!-- LEFT CARD -->
        <div class="card">
            <div class="card-title">
                <div class="sq-icon">
                    <img src="../assets/okay.png" alt="">
                </div>
                Specimen Status
            </div>

            <!-- SPECIMEN VALIDITY -->
            <div class="status-box">
                <div class="status-label">Specimen Validity</div>
                <div class="pill ${report.labInputs.V === 1 ? 'green' : 'red'}">
                    ${report.labInputs.V === 1 ? 'Valid' : 'Invalid'}
                </div>
            </div>

            <!-- BACTERIAL -->
            <div class="status-box">
                <div class="status-label">Bacterial Signal</div>
                <div class="pill ${report.labInputs.B > 0 ? 'red' : 'green'}">
                    ${report.labInputs.B > 0 ? 'Detected' : 'Not Detected'}
                </div>
            </div>

            <!-- YEAST -->
            <div class="status-box">
                <div class="status-label">Yeast Signal</div>
                <div class="pill ${report.labInputs.Y > 0 ? 'red' : 'green'}">
                    ${report.labInputs.Y > 0 ? 'Detected' : 'Not Detected'}
                </div>
            </div>
        </div>

        <!-- RIGHT CARD -->
        <div class="card">
            <div class="card-title">
                <div class="sq-icon">
                    <img src="../assets/okay1.png" alt="">
                </div>
                Functional Status
            </div>

            <!-- CIRCLE -->
            <div class="circle-wrap">
                <div class="circle-bg"></div>
                <div class="circle-progress"
                    style="transform: rotate(${report.functionalPercent * 1.8}deg);">
                </div>
                <div class="circle-number">${report.functionalPercent}%</div>
            </div>

            <!-- LABEL -->
            <div class="circle-label">
                <div class="pill orange">${report.calculatedData.overallStatus}</div>
            </div>
        </div>
    </div>

    <!-- SUMMARY -->
    <div class="summary-card">
        <div class="summary-title">
            <div class="sq-icon" style="background:rgba(31,128,147,0.08);">
                <img src="../assets/okay.png" alt="">
            </div>
            Summary Observation
        </div>

        <div class="summary-text">
            ${report.summaryObservation}
        </div>
    </div>

    <!-- NEXT STEP -->
    <div class="next-step">
        <div class="next-title">Suggested Next Step</div>
        <div class="next-text">
            ${report.calculatedData.recommendation}
        </div>
    </div>

    <div class="footer-line"></div>
    <div class="footer">Microbiome Health Check Report â€“ Version 7.0</div>

</div>

</body>
</html>